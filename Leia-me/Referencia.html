<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Refer√™ncia de Fun√ß√µes - Projeto DW</title>
    <style>
        /* 1. Definindo as vari√°veis de cor para o tema claro (padr√£o) */
        :root {
            --cor-fundo-pagina: black;
            --cor-fundo-container: #ffffff;
            --cor-texto-principal: #333;
            --cor-titulo-h1: #2c3e50;
            --cor-titulo-h2: #2980b9; /* Azul */
            --cor-titulo-h3: #16a085; /* Verde-azulado */
            --cor-borda-geral: #e0e0e0;
            --cor-borda-entrada: #ecf0f1;
            --cor-fundo-entrada: #fdfdfd;
            --cor-titulo-entrada: #c0392b; /* Vermelho */
            --cor-fundo-titulo-entrada: #f9f9f9;
            --cor-fundo-pre: #ecf0f1;
            --cor-texto-pre: #2c3e50;
        }

        /* 2. Definindo as vari√°veis para o tema escuro */
        body.dark-mode {
            --cor-fundo-pagina: #121212;
            --cor-fundo-container: #1e272e;
            --cor-texto-principal: #ecf0f1;
            --cor-titulo-h1: #ffffff;
            --cor-titulo-h2: #3498db; /* Azul mais claro */
            --cor-titulo-h3: #1abc9c; /* Verde-azulado mais claro */
            --cor-borda-geral: #4a6278;
            --cor-borda-entrada: #4a6278;
            --cor-fundo-entrada: #2c3e50;
            --cor-titulo-entrada: #e74c3c; /* Vermelho mais claro */
            --cor-fundo-titulo-entrada: #34495e;
            --cor-fundo-pre: #34495e;
            --cor-texto-pre: #ecf0f1;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            background-color: var(--cor-fundo-pagina);
            color: var(--cor-texto-principal);
            margin: 0;
            padding: 0;
            transition: background-color 0.3s, color 0.3s;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: var(--cor-fundo-container);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            position: relative; /* Para posicionar o bot√£o */
            transition: background-color 0.3s;
        }

        /* 3. Bot√£o para alternar o tema */
        #theme-toggle {
            position: absolute;
            top: 25px;
            right: 25px;
            background: var(--cor-fundo-pre);
            color: var(--cor-texto-pre);
            border: 1px solid var(--cor-borda-geral);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s, color 0.3s, transform 0.2s;
        }
        #theme-toggle:hover {
            transform: scale(1.1);
        }
        /* Esconde o √≠cone que n√£o deve aparecer */
        .moon-icon { display: none; }
        body.dark-mode .sun-icon { display: none; }
        body.dark-mode .moon-icon { display: block; }

        h1 {
            text-align: center;
            color: var(--cor-titulo-h1);
            border-bottom: 2px solid var(--cor-borda-geral);
            padding-bottom: 10px;
        }
        h2 {
            color: var(--cor-titulo-h2);
            border-bottom: 1px solid var(--cor-borda-geral);
            padding-bottom: 5px;
            margin-top: 40px;
        }
        h3 {
            color: var(--cor-titulo-h3);
            margin-top: 30px;
            border-left: 4px solid var(--cor-titulo-h3);
            padding-left: 10px;
        }
        .entry {
            margin-bottom: 20px;
            padding: 15px;
            background-color: var(--cor-fundo-entrada);
            border: 1px solid var(--cor-borda-entrada);
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .entry-title {
            font-family: "Courier New", Courier, monospace;
            font-size: 1.25em;
            color: var(--cor-titulo-entrada);
            background-color: var(--cor-fundo-titulo-entrada);
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 0 0 10px 0;
            transition: background-color 0.3s, color 0.3s;
        }
        .entry p {
            margin: 10px 0;
        }
        pre {
            background-color: var(--cor-fundo-pre);
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            color: var(--cor-texto-pre);
            font-family: "Courier New", Courier, monospace;
            font-size: 1em;
            transition: background-color 0.3s, color 0.3s;
        }
        code {
            font-family: "Courier New", Courier, monospace;
        }
        hr {
            border: 0;
            height: 1px;
            background-color: var(--cor-borda-geral);
            margin-top: 40px;
        }
    </style>
    <!-- Script para aplicar o tema antes da p√°gina carregar e evitar 'flash' -->
    <script>
        (function() {
            const theme = localStorage.getItem('theme');
            if (theme === 'dark') {
                document.documentElement.classList.add('dark-mode-preload');
                document.body.classList.add('dark-mode');
            }
        })();
    </script>
</head>
<body>

    <div class="container">
        <!-- 4. Bot√£o para alternar o modo escuro/claro -->
        <button id="theme-toggle" title="Alternar tema">
            <span class="sun-icon">‚òÄÔ∏è</span>
            <span class="moon-icon">üåô</span>
        </button>

        <h1>Refer√™ncia de Fun√ß√µes e M√©todos (Projeto DW)</h1>

        <!-- O restante do seu conte√∫do HTML permanece o mesmo -->
        <h2>Fun√ß√µes e M√©todos PHP</h2>

        <h3>Gerenciamento de Sess√£o</h3>
        
        <div class="entry">
            <h4 class="entry-title">session_start()</h4>
            <p><strong>Explica√ß√£o:</strong> Inicia uma nova sess√£o ou resume uma sess√£o existente. √â essencial para usar as vari√°veis <code>$_SESSION</code>.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>session_start();</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">session_destroy()</h4>
            <p><strong>Explica√ß√£o:</strong> Destr√≥i todos os dados registrados em uma sess√£o. Usado no <code>logout.php</code>.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>session_destroy();</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">isset()</h4>
            <p><strong>Explica√ß√£o:</strong> Verifica se uma vari√°vel est√° definida e n√£o √© <code>NULL</code>. Muito usado para checar se <code>$_SESSION['logado']</code> ou chaves <code>$_POST</code> existem.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>isset($variavel);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">empty()</h4>
            <p><strong>Explica√ß√£o:</strong> Verifica se uma vari√°vel √© considerada "vazia". Uma vari√°vel √© vazia se n√£o existe ou se seu valor √© <code>false</code>, <code>0</code>, <code>"0"</code>, <code>""</code>, <code>NULL</code> ou um array <code>[]</code>.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>empty($variavel);</pre>
        </div>

        <h3>Manipula√ß√£o de Arquivos</h3>
        
        <div class="entry">
            <h4 class="entry-title">file_exists()</h4>
            <p><strong>Explica√ß√£o:</strong> Verifica se um arquivo ou diret√≥rio existe no caminho especificado.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>file_exists($caminho_do_arquivo);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">file_get_contents()</h4>
            <p><strong>Explica√ß√£o:</strong> L√™ todo o conte√∫do de um arquivo e o retorna como uma string. Usado para ler os arquivos <code>.json</code>.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>file_get_contents($caminho_do_arquivo);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">file_put_contents()</h4>
            <p><strong>Explica√ß√£o:</strong> Escreve dados (uma string) em um arquivo. Usado para salvar os novos dados nos arquivos <code>.json</code>.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>file_put_contents($caminho_do_arquivo, $dados);</pre>
        </div>

        <h3>Manipula√ß√£o de JSON</h3>

        <div class="entry">
            <h4 class="entry-title">json_decode()</h4>
            <p><strong>Explica√ß√£o:</strong> Converte uma string formatada em JSON para uma vari√°vel PHP (um objeto ou, com o segundo argumento <code>true</code>, um array associativo).</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>json_decode($string_json, $associativo_bool);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">json_encode()</h4>
            <p><strong>Explica√ß√£o:</strong> Converte uma vari√°vel PHP (array ou objeto) em uma string no formato JSON. <code>JSON_PRETTY_PRINT</code> formata o JSON para facilitar a leitura.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>json_encode($variavel_php, JSON_PRETTY_PRINT);</pre>
        </div>

        <h3>Resposta HTTP</h3>

        <div class="entry">
            <h4 class="entry-title">header()</h4>
            <p><strong>Explica√ß√£o:</strong> Envia um cabe√ßalho HTTP bruto. Usado para redirecionar o usu√°rio (<code>Location: ...</code>) ou para definir o tipo de conte√∫do (<code>Content-Type: ...</code>).</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>header("String: Valor");</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">exit()</h4>
            <p><strong>Explica√ß√£o:</strong> Termina a execu√ß√£o do script. √â importante usar ap√≥s um redirecionamento <code>header('Location: ...')</code>.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>exit();</pre>
        </div>

        <h3>Manipula√ß√£o de Arrays</h3>

        <div class="entry">
            <h4 class="entry-title">end()</h4>
            <p><strong>Explica√ß√£o:</strong> Avan√ßa o ponteiro interno de um array para seu √∫ltimo elemento e retorna o valor desse elemento.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>end($array);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">array_filter()</h4>
            <p><strong>Explica√ß√£o:</strong> Filtra os elementos de um array usando uma fun√ß√£o de callback. Usado no <code>perfil.php</code>.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>array_filter($array, $funcao_callback);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">array_reverse()</h4>
            <p><strong>Explica√ß√£o:</strong> Retorna um novo array com os elementos do array original na ordem inversa. Usado no <code>perfil.php</code>.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>array_reverse($array);</pre>
        </div>

        <h3>Manipula√ß√£o de Strings e Datas</h3>

        <div class="entry">
            <h4 class="entry-title">explode()</h4>
            <p><strong>Explica√ß√£o:</strong> Divide uma string em um array de strings, usando outra string como delimitador.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>explode($delimitador, $string);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">ltrim()</h4>
            <p><strong>Explica√ß√£o:</strong> Remove espa√ßos em branco (ou outros caracteres especificados) do in√≠cio de uma string.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>ltrim($string, $caracteres_para_remover);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">strpos()</h4>
            <p><strong>Explica√ß√£o:</strong> Encontra a posi√ß√£o da primeira ocorr√™ncia de uma substring em uma string.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>strpos($string_completa, $substring_procurada);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">htmlspecialchars()</h4>
            <p><strong>Explica√ß√£o:</strong> Converte caracteres especiais em entidades HTML. √â uma medida de seguran√ßa para prevenir ataques XSS.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>htmlspecialchars($string);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">date()</h4>
            <p><strong>Explica√ß√£o:</strong> Formata uma data/hora local. Usado para registrar a data da venda ou formatar a data para exibi√ß√£o.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>date($formato, $timestamp_opcional);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">strtotime()</h4>
            <p><strong>Explica√ß√£o:</strong> Converte uma descri√ß√£o de data/hora textual em ingl√™s para um timestamp Unix.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>strtotime($string_data);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">number_format()</h4>
            <p><strong>Explica√ß√£o:</strong> Formata um n√∫mero com milhares agrupados e casas decimais. Usado para exibir o pre√ßo.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>number_format($numero, $casas_decimais, $separador_decimal, $separador_milhar);</pre>
        </div>

        <hr>

        <h2>Fun√ß√µes e M√©todos JavaScript</h2>

        <h3>Manipula√ß√£o do DOM</h3>

        <div class="entry">
            <h4 class="entry-title">document.addEventListener()</h4>
            <p><strong>Explica√ß√£o:</strong> Anexa um "ouvinte" de eventos ao documento. <code>DOMContentLoaded</code> garante que o script rode ap√≥s o HTML carregar.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>document.addEventListener("evento", $funcao_callback);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">document.getElementById()</h4>
            <p><strong>Explica√ß√£o:</strong> Retorna a refer√™ncia do elemento HTML que possui o atributo ID especificado.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>document.getElementById("id_do_elemento");</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">document.querySelector()</h4>
            <p><strong>Explica√ß√£o:</strong> Retorna o primeiro elemento dentro do documento que corresponde ao seletor CSS especificado.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>document.querySelector("seletor_css");</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">document.querySelectorAll()</h4>
            <p><strong>Explica√ß√£o:</strong> Retorna uma lista (NodeList) de todos os elementos do documento que correspondem ao seletor CSS.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>document.querySelectorAll("seletor_css");</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">document.createElement()</h4>
            <p><strong>Explica√ß√£o:</strong> Cria um novo elemento HTML com a tag especificada.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>document.createElement("nome_da_tag");</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">element.appendChild()</h4>
            <p><strong>Explica√ß√£o:</strong> Adiciona um n√≥ (elemento) como o √∫ltimo filho de um elemento pai.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>elemento_pai.appendChild(elemento_filho);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">element.classList.add()</h4>
            <p><strong>Explica√ß√£o:</strong> Adiciona uma ou mais classes CSS a um elemento.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>elemento.classList.add("nome_da_classe");</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">element.classList.remove()</h4>
            <p><strong>Explica√ß√£o:</strong> Remove uma ou mais classes CSS de um elemento.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>elemento.classList.remove("nome_da_classe");</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">element.click()</h4>
            <p><strong>Explica√ß√£o:</strong> Simula um clique de mouse em um elemento. Usado para o upload de foto de perfil.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>elemento.click();</pre>
        </div>

        <h3>Eventos</h3>

        <div class="entry">
            <h4 class="entry-title">event.preventDefault()</h4>
            <p><strong>Explica√ß√£o:</strong> Impede que a a√ß√£o padr√£o de um evento ocorra (ex: impedir um link <code>&lt;a&gt;</code> de recarregar a p√°gina).</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>evento.preventDefault();</pre>
        </div>

        <h3>Requisi√ß√µes de Rede (Fetch API)</h3>

        <div class="entry">
            <h4 class="entry-title">fetch()</h4>
            <p><strong>Explica√ß√£o:</strong> Inicia o processo de busca de um recurso na rede (como sua API PHP). Retorna uma <em>Promise</em>.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>fetch($url);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">Response.json()</h4>
            <p><strong>Explica√ß√£o:</strong> M√©todo do objeto <code>Response</code> (retornado pelo <code>fetch</code>). L√™ o corpo da resposta e o analisa como JSON. Retorna uma <em>Promise</em>.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>resposta_fetch.json();</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">Promise.then()</h4>
            <p><strong>Explica√ß√£o:</strong> Agenda uma fun√ß√£o de callback para ser executada quando a <em>Promise</em> √© resolvida (sucesso).</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>promise.then($funcao_callback);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">Promise.catch()</h4>
            <p><strong>Explica√ß√£o:</strong> Agenda uma fun√ß√£o de callback para ser executada quando a <em>Promise</em> √© rejeitada (erro).</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>promise.catch($funcao_de_erro);</pre>
        </div>

        <h3>Manipula√ß√£o de URL</h3>

        <div class="entry">
            <h4 class="entry-title">new URLSearchParams()</h4>
            <p><strong>Explica√ß√£o:</strong> Cria um novo objeto para trabalhar com os par√¢metros de consulta (ex: <code>?id=1</code>) de uma URL.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>new URLSearchParams(window.location.search);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">URLSearchParams.get()</h4>
            <p><strong>Explica√ß√£o:</strong> Retorna o valor do primeiro par√¢metro de consulta com o nome especificado.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>objeto_search_params.get("nome_do_parametro");</pre>
        </div>

        <h3>Arrays e Objetos</h3>

        <div class="entry">
            <h4 class="entry-title">Array.find()</h4>
            <p><strong>Explica√ß√£o:</strong> Retorna o valor do <strong>primeiro</strong> elemento em um array que satisfaz a uma fun√ß√£o de teste. Usado para encontrar o ve√≠culo pelo ID.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>array.find($funcao_de_teste);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">Array.forEach()</h4>
            <p><strong>Explica√ß√£o:</strong> Executa uma fun√ß√£o para cada elemento de um array. Usado para criar os <em>cards</em> de produtos.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>array.forEach($funcao_callback);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">Array.slice()</h4>
            <p><strong>Explica√ß√£o:</strong> Retorna uma c√≥pia de parte de um array, selecionada do √≠ndice <code>inicio</code> at√© <code>fim</code> (n√£o incluso). Usado para a pagina√ß√£o.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>array.slice(indice_inicio, indice_fim);</pre>
        </div>

        <h3>Utilit√°rios</h3>

        <div class="entry">
            <h4 class="entry-title">console.log()</h4>
            <p><strong>Explica√ß√£o:</strong> Exibe uma mensagem no console do navegador. Usado para depura√ß√£o.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>console.log($mensagem);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">console.error()</h4>
            <p><strong>Explica√ß√£o:</strong> Exibe uma mensagem de erro no console do navegador.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>console.error($mensagem_de_erro);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">alert()</h4>
            <p><strong>Explica√ß√£o:</strong> Exibe uma caixa de di√°logo de alerta com uma mensagem.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>alert($mensagem);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">setInterval()</h4>
            <p><strong>Explica√ß√£o:</strong> Chama uma fun√ß√£o repetidamente, com um atraso fixo (em milissegundos) entre cada chamada. Usado para o banner rotativo.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>setInterval($funcao_callback, $milissegundos);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">Math.ceil()</h4>
            <p><strong>Explica√ß√£o:</strong> Arredonda um n√∫mero <strong>para cima</strong> para o inteiro mais pr√≥ximo. Usado para calcular o total de p√°ginas.</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>Math.ceil($numero);</pre>
        </div>

        <div class="entry">
            <h4 class="entry-title">window.history.back()</h4>
            <p><strong>Explica√ß√£o:</strong> Faz o navegador voltar para a p√°gina anterior no hist√≥rico da sess√£o (simula o bot√£o "Voltar").</p>
            <p><strong>Sintaxe:</strong></p>
            <pre>window.history.back();</pre>
        </div>

    </div>

    <!-- 5. Script para controlar a l√≥gica do modo escuro -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;

            themeToggle.addEventListener('click', () => {
                // Alterna a classe no body
                body.classList.toggle('dark-mode');

                // Salva a prefer√™ncia no localStorage
                if (body.classList.contains('dark-mode')) {
                    localStorage.setItem('theme', 'dark');
                } else {
                    localStorage.setItem('theme', 'light');
                }
            });
        });
    </script>

</body>
</html>